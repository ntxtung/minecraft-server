version: "3.8"

services: 
  rcon:
    container_name: rcon
    image: itzg/rcon:latest
    restart: unless-stopped
    environment:
      RWA_RCON_HOST: "minecraft-server"
      RWA_PASSWORD: "Admin@123"


  minecraft-server:
    image: itzg/minecraft-server:latest
    
    container_name: minecraft
    
    ports:
      - "25565:25565"
      - "25575:25575"
    
    volumes: 
      - ./minecraft-data:/data
    
    healthcheck:
      test: mc-health
      start_period: 1m
      interval: 5s
      retries: 20
    
    environment:
      EULA: "TRUE"
      REPLACE_ENV_VARIABLES: "TRUE"
      TYPE: "FORGE"
      VERSION: "1.19.2"
      ONLINE_MODE: "FALSE"
      DIFFICULTY: "normal"
      SERVER_NAME: "FServer"


      PVP: "TRUE"
      OPS: "ntxtung"
      MOTD: "Welcome!"

      ENABLE_RCON: "TRUE"
      RCON_PASSWORD: "Admin@123"
      RCON_PORT: 25575

      ENABLE_QUERY: "TRUE"
      QUERY_PORT: "25565"

      LEVEL: "earth"

      ANNOUNCE_PLAYER_ACHIEVEMENTS: "TRUE"
      ALLOW_NETHER: "TRUE"
      ENABLE_COMMAND_BLOCK: "TRUE"
      SPAWN_PROTECTION: 0
      ALLOW_FLIGHT: "TRUE"


      
    restart: unless-stopped

